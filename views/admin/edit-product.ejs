    <%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/forms.css" />
    <link rel="stylesheet" href="/css/product.css" />
    </head>

    <body>
      <%- include('../includes/navigation.ejs') %>

      <main>
        <% if(errorMsg){ %>
        <div class="user-message user-message--error"><%= errorMsg %></div>
        <% } %>
        <form class="product-form" action="/admin/<% if(editing) { %>update-product<%}else{%>add-product<%}%>" method="POST" enctype="multipart/form-data">
          <div class="form-control">
            <label for="title">Title</label>
            <input 
              class="<%= validationErros.find(e=>e.param=='title')?'invalid':'' %>" type="text" name="title" id="title"
          value="<% if(editing || hasErrors) {%><%= product.title %><%}%>"/>
          </div>
          <!-- <div class="form-control">
            <label for="imageUrl">Image Url</label>
            <input class="<%= validationErros.find(e=>e.param=='imageUrl')?'invalid':'' %>" type="text" name="imageUrl"
          id="imageUrl" value="<% if(editing || hasErrors){ %><%= product.imageUrl %><%}%>"/>
          </div> -->
          <div class="form-control">
            <label for="imageUrl">Image</label>
            <input  type="file" name="image"
              id="image"/>
          </div>
          <% if(editing){ %>
            <img src="/<%= product.imageUrl %>" alt="<%= product.title %>" width="100" height="100" />
        <%}%>

        <div class="form-control">
          <label for="price">Price</label>
          <input 
          class="<%= validationErros.find(e=>e.param=='price')?'invalid':'' %>"
        type="number" name="price" id="price"
        value="<% if(editing|| hasErrors) {%><%= +product.price %><%}%>"/>
          </div>
          <div class="form-control">
            <label for="description">Description</label>
            <textarea 
            class="<%= validationErros.find(e=>e.param=='description')?'invalid':'' %>"
        name="description" id="description" rows="5"
        ><% if(editing|| hasErrors){ %><%= product.description %> <%}%></textarea>
          </div>
          <input type="hidden" name="productId" value="<%= product._id %>" />
        <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
        <button class="btn" type="submit"><% if(editing){%> Update Product <%}else {%> Add Product <%}%></button>
        </form>
      </main>
      <%- include('../includes/end.ejs') %>
